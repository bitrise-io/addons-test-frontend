@import '../sass/constants';
@import '../sass/mixins';

.app-header {
  margin-top: $beam-height;
  padding-top: 48px;
  @include padding-x(24px);
  background-image: linear-gradient(to left, $aqua, $water-blue-two);

  .app-header-content {
    width: 100%;
    max-width: $content-maxwidth;
    @include margin-x(auto);

    .opening {
      display: flex;
      align-items: center;

      .icon {
        ::ng-deep .stop-start {
          stop-color: #135ea7;
          stop-opacity: 0.855;
        }

        ::ng-deep .stop-end {
          stop-color: #1e568f;
        }

        ::ng-deep .frame-wrapper {
          fill: url(#app_header-icon-stop);
          fill-rule: evenodd;
        }

        ::ng-deep .frame {
          mix-blend-mode: multiply;
        }
      }

      .text {
        margin-left: 24px;
        color: $white;

        .title-with-tag {
          display: flex;
          align-items: center;

          .title {
            @include ui-element-header-3;
            @include margin-y(0);
            color: inherit;
          }

          .tag {
            @include ui-element-tag;
            @include margin-y(0);
            margin-left: 24px;
            color: inherit;
          }
        }

        .description {
          @include ui-element-body;
          @include margin-y(0);
          color: inherit;
        }
      }
    }

    .tabmenu {
      display: flex;
      margin-top: 48px;

      .tabmenu-item {
        @include ui-element-tab;
        flex-grow: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        max-width: 240px;
        min-width: 0;
        border-color: $white;
        color: $white;

        &:hover,
        &:focus,
        &.active {
          color: $dark-blue-grey;
          background-color: $white;
        }

        &:not(:first-child) {
          margin-left: 18px;
        }

        &:not(.with-bubble) .failed-test-case-count {
          display: none;
        }

        &.with-bubble {
          justify-content: space-between;

          &:before {
            content: '';
            width: $ui-element-notification-bubble-size;
            margin-right: auto;
          }

          .text {
            @include padding-x(18px);
          }

          .failed-test-case-count {
            @include ui-element-notification-bubble-error;
            flex-shrink: 0;
            margin-left: auto;
          }
        }
      }
    }
  }

  $wrap-title-tag-maxwidth: 650px;

  @include width-max($wrap-title-tag-maxwidth) {
    .app-header-content .opening .text {
      .title-with-tag {
        display: block;

        .tag {
          margin-left: 0;
          margin-top: 12px;
        }
      }

      .description {
        margin-top: 6px;
      }
    }
  }

  @include width-max($screen-small-width) {
    padding: 18px;

    .app-header-content {
      .opening .text {
        margin-left: 18px;
      }

      .tabmenu {
        display: none;
      }
    }
  }
}
